(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{1639:function(e,s,r){Promise.resolve().then(r.bind(r,5759))},5759:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return EditProjectPage}});var t=r(7437),a=r(2265),l=r(4033),c=r(3753),n=r(5838),d=r(6806),i=r(1018),o=r(803),u=r(6454),j=r(345);function EditProjectPage(){let[e,s]=(0,a.useState)(null),[r,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),[p,N]=(0,a.useState)(!1),{id:f}=(0,l.useParams)(),v=(0,l.useRouter)();(0,a.useEffect)(()=>{let fetchProject=async()=>{try{let e=await u.Hv.projects.getById(Number(f));s(e.data),x(null)}catch(e){console.error("Failed to fetch project:",e),x((0,j.e$)(e))}finally{h(!1)}};f&&fetchProject()},[f]);let handleSubmit=async e=>{N(!0),x(null);try{await u.Hv.projects.update(Number(f),e),v.push("/projects/".concat(f))}catch(e){console.error("Failed to update project:",e),x((0,j.e$)(e)),N(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>v.push("/projects/".concat(f)),className:"flex items-center gap-1",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4"}),"Retour"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:r?"Chargement...":e?"Modifier: ".concat(e.name):"Projet introuvable"})]}),m&&(0,t.jsxs)("div",{className:"bg-error/10 border border-error/30 rounded-md p-4 flex items-start gap-2 text-error",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:r?"Erreur lors du chargement du projet":"Erreur lors de la mise \xe0 jour du projet"}),(0,t.jsx)("p",{className:"text-sm",children:m})]})]}),r?(0,t.jsx)("div",{className:"animate-pulse space-y-6",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)("div",{className:"h-6 bg-neutral-200 rounded w-1/3"})}),(0,t.jsx)(i.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[[...Array(6)].map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("div",{className:"h-10 bg-neutral-200 rounded"}),(0,t.jsx)("div",{className:"h-10 bg-neutral-200 rounded"})]},s)),(0,t.jsx)("div",{className:"h-24 bg-neutral-200 rounded w-full"}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("div",{className:"h-10 bg-neutral-200 rounded w-24"}),(0,t.jsx)("div",{className:"h-10 bg-neutral-200 rounded w-24"})]})]})})]})}):e?(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{children:"Informations du projet"})}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(o.Z,{project:e,onSubmit:handleSubmit,onError:e=>{x(e)}})})]}):m?null:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-neutral-500",children:"Projet introuvable"}),(0,t.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>v.push("/projects"),className:"mt-4",children:"Retour \xe0 la liste des projets"})]})]})}}},function(e){e.O(0,[163,342,971,472,744],function(){return e(e.s=1639)}),_N_E=e.O()}]);