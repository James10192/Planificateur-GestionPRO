(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9160:function(e,t,s){Promise.resolve().then(s.bind(s,2446))},2446:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return DashboardPage}});var a=s(7437),r=s(2265),n=s(7710),i=s(5762),c=s(1205),l=s(2929),o=s(9186),d=s(2638),u=s(9496),m=s(9789),x=s(6454);let StatCard=e=>{let{title:t,value:s,icon:r,changePercent:c,bgColor:l,textColor:o}=e;return(0,a.jsxs)("div",{className:"card p-5 ".concat(l),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium ".concat(o),children:t}),(0,a.jsx)("h3",{className:"text-2xl font-bold mt-1 ".concat(o),children:s})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/20",children:(0,a.jsx)(r,{className:"h-6 w-6 ".concat(o)})})]}),void 0!==c&&(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[c>=0?(0,a.jsx)(n.Z,{className:"h-4 w-4 text-success mr-1"}):(0,a.jsx)(i.Z,{className:"h-4 w-4 text-error mr-1"}),(0,a.jsxs)("span",{className:"text-xs font-medium ".concat(c>=0?"text-success":"text-error"),children:[Math.abs(c),"%"," ",c>=0?"increase":"decrease"]}),(0,a.jsx)("span",{className:"text-xs text-neutral-medium ml-1",children:"since last month"})]})]})};var dashboard_StatCards=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){try{n(!0);let e=await (0,m.OS)(u.sb,x.Hv.dashboard.getSummary);t(e)}catch(e){console.error("Failed to fetch dashboard summary:",e),h("Impossible de charger les statistiques")}finally{n(!1)}}()},[]);let getIcon=e=>{let t=[c.Z,l.Z,o.Z,d.Z];return t[e%t.length]};return s?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"card p-5 bg-neutral-100 animate-pulse",children:(0,a.jsx)("div",{className:"h-16"})},e))}):i?(0,a.jsx)("div",{className:"card p-5",children:(0,a.jsx)("p",{className:"text-error",children:i})}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,t)=>(0,a.jsx)(StatCard,{...e,icon:getIcon(t)},t))})},h=s(105),p=s(6704);p.kL.register(p.qi,p.u,p.De);var dashboard_ProjectSummary=()=>{let[e,t]=(0,r.useState)(u.xn),[s,n]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){try{n(!0);let e=await (0,m.OS)(u.xn,()=>x.Hv.dashboard.getSummary());t(e)}catch(e){console.error("Failed to fetch project status data:",e),c("Impossible de charger les donn\xe9es de statut des projets")}finally{n(!1)}}()},[]);let l={labels:e.map(e=>e.name),datasets:[{data:e.map(e=>e.count),backgroundColor:e.map(e=>e.color),borderColor:Array(e.length).fill("#ffffff"),borderWidth:2}]};return s?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Vue d'ensemble des projets"})}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})]}):i?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Vue d'ensemble des projets"})}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-error",children:i})})]}):(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Vue d'ensemble des projets"}),(0,a.jsx)("button",{className:"text-sm text-primary font-medium hover:underline",children:"Voir tout"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(h.by,{data:l,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle",padding:20,font:{size:12}}},tooltip:{backgroundColor:"#ffffff",titleColor:"#2D3748",bodyColor:"#2D3748",borderColor:"#E2E8F0",borderWidth:1,padding:12,bodyFont:{size:14},titleFont:{size:14,weight:"bold"},callbacks:{label:function(e){let t=e.dataset.data.reduce((e,t)=>e+t,0),s=e.raw,a=Math.round(s/t*100);return"".concat(e.label,": ").concat(s," (").concat(a,"%)")}}}}}})}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4 mt-6",children:e.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",style:{color:e.color},children:e.count}),(0,a.jsx)("p",{className:"text-sm text-neutral-medium",children:e.name})]},t))})]})},g=s(7124),f=s(8694),j=s(6610),b=s(887),N=s(4291);let Activity=e=>{let{activity:t}=e;return(0,a.jsxs)("div",{className:"flex items-start space-x-4 mb-6 last:mb-0",children:[(0,a.jsx)("div",{className:"bg-neutral-lightest p-2 rounded-lg",children:(()=>{switch(t.type){case"task":default:return(0,a.jsx)(j.Z,{className:"h-5 w-5 text-info"});case"project":return(0,a.jsx)(c.Z,{className:"h-5 w-5 text-primary"});case"document":return(0,a.jsx)(j.Z,{className:"h-5 w-5 text-accent"})}})()}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-neutral-dark",children:t.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(()=>{switch(t.status){case"completed":return(0,a.jsx)(o.Z,{className:"h-5 w-5 text-success"});case"in_progress":default:return(0,a.jsx)(l.Z,{className:"h-5 w-5 text-info"});case"delayed":return(0,a.jsx)(b.Z,{className:"h-5 w-5 text-error"});case"updated":return(0,a.jsx)(N.Z,{className:"h-5 w-5 text-warning"})}})(),(0,a.jsx)("span",{className:"text-xs",children:(()=>{switch(t.status){case"completed":return"Termin\xe9";case"in_progress":default:return"En cours";case"delayed":return"En retard";case"updated":return"Mis \xe0 jour"}})()})]})]}),t.project&&(0,a.jsxs)("p",{className:"text-sm text-neutral-medium mt-1",children:["Projet: ",t.project]}),(0,a.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-neutral-medium",children:["Par ",t.user]}),(0,a.jsx)("p",{className:"text-xs text-neutral-medium",children:(0,g.Z)(t.date,"PPp",{locale:f.Z})})]})]})]})};var dashboard_RecentActivities=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async function(){try{n(!0);let e=await (0,m.OS)(u.ai,x.Hv.dashboard.getRecentActivities);t(e)}catch(e){console.error("Failed to fetch activities:",e),c("Impossible de charger les activit\xe9s r\xe9centes")}finally{n(!1)}})()},[]),s)?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Activit\xe9s r\xe9centes"})}),(0,a.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})]}):i?(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Activit\xe9s r\xe9centes"})}),(0,a.jsx)("div",{className:"py-6 text-center text-error",children:i})]}):(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Activit\xe9s r\xe9centes"}),(0,a.jsx)("button",{className:"text-sm text-primary font-medium hover:underline",children:"Voir tout"})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-light",children:e.map(e=>(0,a.jsx)("div",{className:"py-4 first:pt-0 last:pb-0",children:(0,a.jsx)(Activity,{activity:e})},e.id))})]})},v=s(345);p.kL.register(p.uw,p.f$,p.ZL,p.Dx,p.u,p.De);var dashboard_BudgetChart=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);if((0,r.useEffect)(()=>{!async function(){try{n(!0);let e=await (0,m.OS)(u.E,()=>x.Hv.dashboard.getSummary());t(e)}catch(e){console.error("Failed to fetch budget data:",e),c("Impossible de charger les donn\xe9es budg\xe9taires")}finally{n(!1)}}()},[]),s)return(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Budget par mois"}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})]})});if(i)return(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Budget par mois"}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-error",children:i})})]})});let l={labels:e.map(e=>e.month),datasets:[{label:"Budget pr\xe9vu",data:e.map(e=>e.planned),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4},{label:"Budget consomm\xe9",data:e.map(e=>e.actual),backgroundColor:"rgba(249, 115, 22, 0.8)",borderRadius:4}]};return(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Budget par mois"}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(h.$Q,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Inter, sans-serif",size:12},usePointStyle:!0,padding:20}},title:{display:!1},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"",s=e.parsed.y;return"".concat(t,": ").concat((0,v.xG)(s))}}}},scales:{x:{grid:{display:!1},ticks:{font:{family:"Inter, sans-serif"}}},y:{grid:{color:e=>"rgba(0, 0, 0, 0.1)",display:!0},ticks:{font:{family:"Inter, sans-serif"},callback:function(e){return(0,v.xG)(e).replace("€","")+" €"}}}}},data:l})})]})})},y=s(7805),w=s(9367),S=s(2125);let TaskRow=e=>{let{task:t}=e,getStatusColor=e=>{switch(e){case"completed":return"bg-success";case"in_progress":return"bg-info";case"pending":return"bg-warning";default:return"bg-neutral"}};return(0,a.jsxs)("tr",{className:"hover:bg-neutral-lightest",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full mr-2 ".concat(getStatusColor(t.status))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:t.title}),(0,a.jsx)("p",{className:"text-xs text-neutral-medium",children:t.project})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(()=>{switch(t.status){case"completed":return(0,a.jsxs)("span",{className:"flex items-center text-xs px-2 py-1 rounded-full bg-success/10 text-success",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3 mr-1"}),"Termin\xe9"]});case"in_progress":return(0,a.jsxs)("span",{className:"flex items-center text-xs px-2 py-1 rounded-full bg-info/10 text-info",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3 mr-1"}),"En cours"]});case"pending":return(0,a.jsxs)("span",{className:"flex items-center text-xs px-2 py-1 rounded-full bg-warning/10 text-warning",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3 mr-1"}),"En attente"]});default:return null}})()}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"text-sm font-medium ".concat((e=>{switch(e){case"high":return"text-error";case"medium":return"text-warning";case"low":return"text-success";default:return"text-neutral-medium"}})(t.priority)),children:"high"===t.priority?"Haute":"medium"===t.priority?"Moyenne":"Basse"})}),(0,a.jsx)("td",{className:"py-3 px-4 text-sm",children:(0,g.Z)(t.dueDate,"dd MMM yyyy",{locale:f.Z})}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)("div",{className:"w-full bg-neutral-light rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(getStatusColor(t.status)),style:{width:"".concat(t.progress,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-center mt-1",children:[t.progress,"%"]})]}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,a.jsx)("button",{className:"p-1 rounded-full bg-neutral-lightest hover:bg-neutral-light text-neutral-medium",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 rounded-full bg-neutral-lightest hover:bg-neutral-light text-neutral-medium",children:(0,a.jsx)(S.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 rounded-full bg-success/10 hover:bg-success/20 text-success",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]})})]})};var dashboard_MyTasks=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async function(){try{n(!0);let e=await (0,m.OS)(u._e,()=>x.Hv.dashboard.getTasksByUser(1));t(e)}catch(e){console.error("Failed to fetch tasks:",e),c("Impossible de charger les t\xe2ches")}finally{n(!1)}})()},[]),s)?(0,a.jsxs)("div",{className:"card overflow-hidden",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Mes T\xe2ches"})}),(0,a.jsx)("div",{className:"flex justify-center py-10",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})]}):i?(0,a.jsxs)("div",{className:"card overflow-hidden",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Mes T\xe2ches"})}),(0,a.jsx)("div",{className:"py-6 text-center text-error",children:i})]}):(0,a.jsxs)("div",{className:"card overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Mes T\xe2ches"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"btn-secondary text-xs py-1",children:"+ Nouvelle t\xe2che"}),(0,a.jsx)("button",{className:"text-sm text-primary font-medium hover:underline",children:"Voir tout"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto -mx-6",children:(0,a.jsxs)("table",{className:"w-full min-w-full",children:[(0,a.jsx)("thead",{className:"bg-neutral-lightest border-y border-neutral-light",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"T\xe2che"}),(0,a.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"Statut"}),(0,a.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"Priorit\xe9"}),(0,a.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"\xc9ch\xe9ance"}),(0,a.jsx)("th",{className:"py-3 px-4 text-left text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"Progression"}),(0,a.jsx)("th",{className:"py-3 px-4 text-right text-xs font-medium text-neutral-medium uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-neutral-light",children:e.map(e=>(0,a.jsx)(TaskRow,{task:e},e.id))})]})})]})};function DashboardPage(){return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),(0,a.jsx)("p",{className:"text-neutral-medium",children:"Bienvenue dans votre espace de gestion de projets"})]}),(0,a.jsx)(dashboard_StatCards,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsx)(dashboard_MyTasks,{}),(0,a.jsx)(dashboard_BudgetChart,{})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(dashboard_ProjectSummary,{}),(0,a.jsx)(dashboard_RecentActivities,{})]})]})]})}},6454:function(e,t,s){"use strict";s.d(t,{Hv:function(){return l},dV:function(){return o}});var a=s(4829),r=s(2601);let n="true"===r.env.NEXT_PUBLIC_USE_MOCKS,i=r.env.NEXT_PUBLIC_API_BASE_URL||"/api/v1",c=a.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}});c.interceptors.response.use(e=>e,e=>{var t;return console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject(e)});let l={projects:{getAll:()=>c.get("/projects"),getById:e=>c.get("/projects/".concat(e)),create:e=>c.post("/projects",e),update:(e,t)=>c.put("/projects/".concat(e),t),delete:e=>c.delete("/projects/".concat(e)),getActions:e=>c.get("/projects/".concat(e,"/actions"))},actions:{getAll:()=>c.get("/actions"),getById:e=>c.get("/actions/".concat(e)),create:e=>c.post("/actions",e),update:(e,t)=>c.put("/actions/".concat(e),t),delete:e=>c.delete("/actions/".concat(e)),getSubActions:e=>c.get("/actions/".concat(e,"/sub-actions"))},plannings:{getAll:()=>c.get("/plannings"),getById:e=>c.get("/plannings/".concat(e)),create:e=>c.post("/plannings",e),update:(e,t)=>c.put("/plannings/".concat(e),t),delete:e=>c.delete("/plannings/".concat(e))},parameters:{getProjectTypes:()=>c.get("/parameters/project-types"),getStatuses:()=>c.get("/parameters/statuses"),getPriorities:()=>c.get("/parameters/priorities"),getDirections:()=>c.get("/parameters/directions"),getPortfolioPhases:()=>c.get("/parameters/portfolio-phases"),getTeamRoles:()=>c.get("/parameters/team-roles")},users:{getAll:()=>c.get("/users"),getById:e=>c.get("/users/".concat(e)),create:e=>c.post("/users",e),update:(e,t)=>c.put("/users/".concat(e),t),delete:e=>c.delete("/users/".concat(e))},teams:{getAll:()=>c.get("/teams"),getById:e=>c.get("/teams/".concat(e)),create:e=>c.post("/teams",e),update:(e,t)=>c.put("/teams/".concat(e),t),delete:e=>c.delete("/teams/".concat(e)),getMembers:e=>c.get("/teams/".concat(e,"/members"))},dashboard:{getSummary:()=>c.get("/dashboard/summary"),getRecentActivities:()=>c.get("/dashboard/activities"),getTasksByUser:e=>c.get("/dashboard/tasks/user/".concat(e))},kpis:{getMetrics:()=>c.get("/kpis/metrics"),getMetricById:e=>c.get("/kpis/metrics/".concat(e)),createMetric:e=>c.post("/kpis/metrics",e),updateMetric:(e,t)=>c.put("/kpis/metrics/".concat(e),t),deleteMetric:e=>c.delete("/kpis/metrics/".concat(e)),getProjectKpis:e=>c.get("/kpis/projects/".concat(e)),getProjectKpiHistory:(e,t)=>c.get("/kpis/projects/".concat(e,"/metrics/").concat(t,"/history")),recordKpiValue:(e,t,s)=>c.post("/kpis/projects/".concat(e,"/metrics/").concat(t),s),calculateKpi:(e,t)=>c.post("/kpis/projects/".concat(e,"/metrics/").concat(t,"/calculate")),exportKpiData:(e,t)=>c.get("/kpis/projects/".concat(e,"/export?format=").concat(t),{responseType:"blob"})}},o={USE_MOCKS:n,API_BASE_URL:i};console.log("[API Config] Using mocks:",n)},9496:function(e,t,s){"use strict";s.d(t,{E:function(){return c},_e:function(){return n},ai:function(){return r},sb:function(){return a},xn:function(){return i}});let a=[{title:"Total Projets",value:24,changePercent:12.5,bgColor:"bg-primary",textColor:"text-white"},{title:"En cours",value:15,changePercent:8.2,bgColor:"bg-info",textColor:"text-white"},{title:"Termin\xe9s",value:8,changePercent:24.3,bgColor:"bg-success",textColor:"text-white"},{title:"Budget Total",value:"€ 1.2M",changePercent:-3.5,bgColor:"bg-accent",textColor:"text-white"}],r=[{id:1,type:"task",title:"Mise \xe0 jour de la documentation API",status:"completed",date:new Date(2023,10,5,14,30),user:"Laurent Dupont",project:"Modernisation Syst\xe8me"},{id:2,type:"project",title:"Lancement projet Mobile Banking",status:"in_progress",date:new Date(2023,10,5,10,15),user:"Marie Leclerc"},{id:3,type:"document",title:"Cahier des charges v2.1",status:"updated",date:new Date(2023,10,4,16,45),user:"Thomas Bernard",project:"S\xe9curisation Donn\xe9es"},{id:4,type:"task",title:"Test d'int\xe9gration paiement",status:"delayed",date:new Date(2023,10,4,11,20),user:"Sophie Martin",project:"Mobile Banking"}],n=[{id:1,title:"Finaliser les sp\xe9cifications techniques",project:"Syst\xe8me CRM",priority:"high",dueDate:new Date(2023,10,10),status:"in_progress",progress:75},{id:2,title:"Int\xe9gration API paiement",project:"Mobile Banking",priority:"high",dueDate:new Date(2023,10,8),status:"pending",progress:20},{id:3,title:"R\xe9vision architecture de s\xe9curit\xe9",project:"S\xe9curisation Donn\xe9es",priority:"medium",dueDate:new Date(2023,10,15),status:"in_progress",progress:45},{id:4,title:"Tests de performance",project:"Modernisation Syst\xe8me",priority:"low",dueDate:new Date(2023,10,20),status:"pending",progress:0},{id:5,title:"Documentation utilisateur",project:"Syst\xe8me CRM",priority:"medium",dueDate:new Date(2023,10,12),status:"completed",progress:100}],i=[{name:"En cours",count:15,color:"#3b82f6"},{name:"Termin\xe9s",count:8,color:"#10b981"},{name:"Non d\xe9marr\xe9s",count:3,color:"#6b7280"},{name:"En retard",count:2,color:"#ef4444"}],c=[{month:"Jan",planned:5e4,actual:48e3},{month:"F\xe9v",planned:6e4,actual:65e3},{month:"Mar",planned:7e4,actual:68e3},{month:"Avr",planned:8e4,actual:75e3},{month:"Mai",planned:65e3,actual:6e4},{month:"Juin",planned:9e4,actual:1e5}]},9789:function(e,t,s){"use strict";s.d(t,{OS:function(){return getDataFromMockOrApi},zh:function(){return getMockKpiHistory},wA:function(){return getMockKpiValuesForProject}}),s(9496);let a=[{id:1,code:"COMPLETION_RATE",name:"Taux d'avancement",description:"Pourcentage d'avancement global du projet",unit:"%",thresholdWarning:50,thresholdCritical:25,higherIsBetter:!0,calculationFormula:"Calculate average progress of all actions",updateFrequencyMinutes:1440,enableNotifications:!0,createdAt:"2024-05-01T00:00:00Z",updatedAt:"2024-05-01T00:00:00Z",active:!0},{id:2,code:"BUDGET_UTILIZATION",name:"Utilisation du budget",description:"Pourcentage du budget consomm\xe9 par rapport au budget initial",unit:"%",thresholdWarning:85,thresholdCritical:95,higherIsBetter:!1,calculationFormula:"USED_BUDGET / TOTAL_BUDGET * 100",updateFrequencyMinutes:1440,enableNotifications:!0,createdAt:"2024-05-01T00:00:00Z",updatedAt:"2024-05-01T00:00:00Z",active:!0},{id:3,code:"TASK_COMPLETION",name:"T\xe2ches termin\xe9es",description:"Pourcentage de t\xe2ches termin\xe9es",unit:"%",thresholdWarning:40,thresholdCritical:20,higherIsBetter:!0,calculationFormula:"COMPLETED_TASKS / TOTAL_TASKS * 100",updateFrequencyMinutes:1440,enableNotifications:!0,createdAt:"2024-05-01T00:00:00Z",updatedAt:"2024-05-01T00:00:00Z",active:!0},{id:4,code:"DEADLINE_PROXIMITY",name:"Proximit\xe9 de l'\xe9ch\xe9ance",description:"Jours restants avant la date d'\xe9ch\xe9ance du projet",unit:"jours",thresholdWarning:10,thresholdCritical:5,higherIsBetter:!0,calculationFormula:"END_DATE - CURRENT_DATE",updateFrequencyMinutes:1440,enableNotifications:!0,createdAt:"2024-05-01T00:00:00Z",updatedAt:"2024-05-01T00:00:00Z",active:!0},{id:5,code:"RISK_INDEX",name:"Indice de risque",description:"Indice calcul\xe9 bas\xe9 sur les risques identifi\xe9s et leur criticit\xe9",unit:"indice",thresholdWarning:50,thresholdCritical:75,higherIsBetter:!1,calculationFormula:"SUM(RISK_PROBABILITY * RISK_IMPACT) / COUNT(RISKS)",updateFrequencyMinutes:1440,enableNotifications:!0,createdAt:"2024-05-01T00:00:00Z",updatedAt:"2024-05-01T00:00:00Z",active:!0}],getMockKpiValuesForProject=(e,t)=>[{id:1,metricId:1,metricCode:"COMPLETION_RATE",metricName:"Taux d'avancement",projectId:e,projectName:t,value:65.7,measurementDate:new Date().toISOString(),comment:"Calcul automatique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0},{id:2,metricId:2,metricCode:"BUDGET_UTILIZATION",metricName:"Utilisation du budget",projectId:e,projectName:t,value:78.3,measurementDate:new Date().toISOString(),comment:"Calcul automatique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0},{id:3,metricId:3,metricCode:"TASK_COMPLETION",metricName:"T\xe2ches termin\xe9es",projectId:e,projectName:t,value:58.2,measurementDate:new Date().toISOString(),comment:"Calcul automatique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0},{id:4,metricId:4,metricCode:"DEADLINE_PROXIMITY",metricName:"Proximit\xe9 de l'\xe9ch\xe9ance",projectId:e,projectName:t,value:15,measurementDate:new Date().toISOString(),comment:"Calcul automatique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0},{id:5,metricId:5,metricCode:"RISK_INDEX",metricName:"Indice de risque",projectId:e,projectName:t,value:35.5,measurementDate:new Date().toISOString(),comment:"Calcul automatique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0}],getMockKpiHistory=(e,t,s,r)=>{let n=new Date,i=[];for(let l=9;l>=0;l--){var c;let o=new Date(n);o.setDate(o.getDate()-l);let d=0;switch(t){case 1:d=30+4*l+5*Math.random();break;case 2:d=20+7*l+3*Math.random();break;case 3:d=25+4.5*l+4*Math.random();break;case 4:d=25-1*l;break;case 5:d=50-2*l+6*Math.random();break;default:d=50+10*Math.random()}d=Math.max(0,Math.min(100,d)),i.push({id:100+l,metricId:t,metricCode:(null===(c=a.find(e=>e.id===t))||void 0===c?void 0:c.code)||"",metricName:r,projectId:e,projectName:s,value:d,measurementDate:o.toISOString(),comment:"Mesure historique",warningThresholdBreached:!1,criticalThresholdBreached:!1,notificationSent:!1,createdAt:o.toISOString(),updatedAt:o.toISOString(),active:!0})}return i};var r=s(6454);async function getDataFromMockOrApi(e,t){if(r.dV.USE_MOCKS)return new Promise(t=>{setTimeout(()=>{t(e)},300)});let s=await t();return s.data}},345:function(e,t,s){"use strict";s.d(t,{Qm:function(){return getInitials},T3:function(){return formatPercent},cn:function(){return cn},e$:function(){return getErrorMessage},o0:function(){return formatDateTime},p6:function(){return formatDate},xG:function(){return formatCurrency}});var a=s(7042),r=s(3986),n=s(7124),i=s(4493),c=s(8694);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m)((0,a.W)(t))}function formatDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PPP";if(!e)return"-";try{let s="string"==typeof e?(0,i.Z)(e):e;return(0,n.Z)(s,t,{locale:c.Z})}catch(t){return console.error("Date formatting error:",t),"string"==typeof e?e:e.toString()}}function formatDateTime(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PPP \xe0 HH:mm";return formatDate(e,t)}function formatPercent(e){return null==e?"-":"".concat(Math.round(e),"%")}function formatCurrency(e){return null==e?"-":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}function getInitials(e,t){if(!e&&!t)return"?";let s=e?e.charAt(0).toUpperCase():"",a=t?t.charAt(0).toUpperCase():"";return"".concat(s).concat(a)}function getErrorMessage(e){let t="Une erreur s'est produite. Veuillez r\xe9essayer.";if(!e||!e.response)return t;let{status:s}=e.response;switch(s){case 400:return"Donn\xe9es invalides. Veuillez v\xe9rifier vos informations.";case 401:return"Non autoris\xe9. Veuillez vous connecter.";case 403:return"Vous n'avez pas les droits pour effectuer cette action.";case 404:return"Ressource non trouv\xe9e.";case 409:return"Conflit avec l'\xe9tat actuel de la ressource.";case 500:return"Erreur serveur. Veuillez r\xe9essayer ult\xe9rieurement.";default:return t}}}},function(e){e.O(0,[674,163,948,971,472,744],function(){return e(e.s=9160)}),_N_E=e.O()}]);