(()=>{var e={};e.id=626,e.ids=[626],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8410:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>u,tree:()=>d});var t=a(7096),r=a(6132),i=a(7284),l=a.n(i),n=a(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9764)),"C:\\Users\\yabla\\Downloads\\gestionpro(java)\\project-management-frontend\\src\\app\\projects\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3554)),"C:\\Users\\yabla\\Downloads\\gestionpro(java)\\project-management-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\yabla\\Downloads\\gestionpro(java)\\project-management-frontend\\src\\app\\projects\\[id]\\page.tsx"],o="/projects/[id]/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/projects/[id]/page",pathname:"/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9783:(e,s,a)=>{Promise.resolve().then(a.bind(a,1391))},1391:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ProjectDetailPage});var t,r,i=a(784),l=a(9885),n=a(7114),c=a(6320),d=a(4635),m=a(9888),o=a(9872),x=a(467);function Tabs({tabs:e,defaultTab:s,onChange:a,className:t,tabListClassName:r,tabClassName:n,activeTabClassName:c,disabledTabClassName:d}){let[m,o]=(0,l.useState)(s||e[0]?.id||""),u=(0,l.useRef)(null),[h,p]=(0,l.useState)(!1),[j,N]=(0,l.useState)({left:"0px",width:"0px"});(0,l.useEffect)(()=>{s&&s!==m&&o(s)},[s,m]),(0,l.useEffect)(()=>{let e=u.current?.querySelectorAll('[role="tab"]'),s=u.current?.querySelector(`[data-tab-id="${m}"]`);if(s instanceof HTMLElement&&e?.length){let{offsetLeft:e,offsetWidth:a}=s;N({left:`${e}px`,width:`${a}px`}),p(!0)}},[m,e]);let handleTabClick=e=>{e!==m&&(o(e),a?.(e))},handleKeyDown=(e,s)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),handleTabClick(s))};return i.jsx("div",{className:(0,x.cn)("w-full",t),children:(0,i.jsxs)("div",{ref:u,className:(0,x.cn)("relative flex border-b border-neutral-200",r),role:"tablist","aria-orientation":"horizontal",children:[e.map(e=>i.jsx("div",{"data-tab-id":e.id,role:"tab",tabIndex:e.disabled?-1:m===e.id?0:-1,"aria-selected":m===e.id,"aria-disabled":e.disabled,onClick:()=>!e.disabled&&handleTabClick(e.id),onKeyDown:s=>!e.disabled&&handleKeyDown(s,e.id),className:(0,x.cn)("px-4 py-2 font-medium cursor-pointer transition-colors","focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",m===e.id?(0,x.cn)("text-primary",c):"text-neutral-500 hover:text-neutral-800",e.disabled&&(0,x.cn)("cursor-not-allowed opacity-50",d),n),children:e.label},e.id)),i.jsx("div",{className:(0,x.cn)("absolute bottom-0 h-0.5 bg-primary transition-all duration-300 ease-in-out",!h&&"opacity-0"),style:j,"aria-hidden":"true"})]})})}function TabPanel({id:e,activeTab:s,children:a,className:t}){let r=e===s;return i.jsx("div",{role:"tabpanel",id:`panel-${e}`,"aria-labelledby":`tab-${e}`,hidden:!r,className:(0,x.cn)(r?"block":"hidden",t),children:a})}var u=a(5079),h=a(1399),p=a(797);function ProjectInfo({project:e,isLoading:s=!1}){let a=(0,n.useRouter)();return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),(0,i.jsxs)(u.aY,{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(6)].map((e,s)=>(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-5 bg-neutral-200 rounded w-3/4"})]},s))}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/4"}),i.jsx("div",{className:"h-20 bg-neutral-200 rounded w-full"})]})]})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"Informations projet"}),(0,i.jsxs)(o.z,{onClick:()=>a.push(`/projects/${e.id}/edit`),size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(p.Z,{className:"h-4 w-4"}),"Modifier"]})]})}),(0,i.jsxs)(u.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"\xc9tat"}),i.jsx(h.C,{variant:(e=>{if(!e)return"gray";switch(e.toLowerCase()){case"en cours":return"blue";case"termin\xe9":return"green";case"suspendu":return"yellow";case"annul\xe9":return"red";default:return"gray"}})(e.status?.name),children:e.status?.name||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Progression"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-32 h-2 bg-neutral-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:"65%"}})}),i.jsx("span",{className:"text-sm font-medium",children:(0,x.T3)(65)})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Type"}),i.jsx("p",{className:"font-medium",children:e.type?.name||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Priorit\xe9"}),i.jsx("p",{className:"font-medium",children:e.priority?.name||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Direction"}),i.jsx("p",{className:"font-medium",children:e.direction?.name||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"\xc9quipe"}),i.jsx("p",{className:"font-medium",children:e.team?.name||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Date de d\xe9but"}),i.jsx("p",{className:"font-medium",children:(0,x.p6)(e.startDate)||"-"})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Date de fin pr\xe9vue"}),i.jsx("p",{className:"font-medium",children:(0,x.p6)(e.endDate)||"-"})]})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Description"}),i.jsx("p",{className:"text-sm",children:e.description||"Aucune description disponible"})]})]})]})}var j=a(4116),N=a(1054),f=a(990);function ProjectTeam({project:e,isLoading:s=!1}){let[a,t]=(0,l.useState)(!1),r=e.team,n=r?.members||[];return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),(0,i.jsxs)(u.aY,{children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-full mb-4"}),i.jsx("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-12 bg-neutral-200 rounded w-full"},s))})]})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"\xc9quipe"}),(0,i.jsxs)(o.z,{onClick:()=>t(!a),size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(N.Z,{className:"h-4 w-4"}),"Ajouter un membre"]})]})}),(0,i.jsxs)(u.aY,{children:[r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"text-sm mb-4",children:["\xc9quipe: ",i.jsx("span",{className:"font-medium",children:r.name})]}),n.length>0?(0,i.jsxs)(j.iA,{children:[i.jsx(j.xD,{children:(0,i.jsxs)(j.SC,{children:[i.jsx(j.ss,{children:"Membre"}),i.jsx(j.ss,{children:"R\xf4le"}),i.jsx(j.ss,{children:"Direction"}),i.jsx(j.ss,{children:"Contact"})]})}),i.jsx(j.RM,{children:n.map(e=>(0,i.jsxs)(j.SC,{children:[i.jsx(j.pj,{className:"py-2",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-medium text-sm",children:(0,x.Qm)(e.user?.firstName,e.user?.lastName)}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"font-medium",children:[e.user?.firstName," ",e.user?.lastName]}),i.jsx("p",{className:"text-xs text-neutral-500",children:e.user?.function||""})]})]})}),i.jsx(j.pj,{className:"py-2",children:e.role?.name||"-"}),i.jsx(j.pj,{className:"py-2",children:e.user?.direction?.name||"-"}),(0,i.jsxs)(j.pj,{className:"py-2",children:[i.jsx("p",{children:e.user?.email}),i.jsx("p",{className:"text-xs text-neutral-500",children:e.user?.phone||"-"})]})]},`${e.teamId}-${e.userId}`))})]}):(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-neutral-500 mb-2",children:"Aucun membre dans l'\xe9quipe"}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-1 mx-auto",onClick:()=>t(!0),children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Ajouter des membres"]})]})]}):(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-neutral-500 mb-2",children:"Aucune \xe9quipe associ\xe9e au projet"}),i.jsx(o.z,{variant:"outline",size:"sm",className:"mx-auto",children:"Cr\xe9er une \xe9quipe"})]}),a&&(0,i.jsxs)("div",{className:"mt-4 p-4 border rounded-md",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Ajouter un membre \xe0 l'\xe9quipe"}),(0,i.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>t(!1),children:"Annuler"}),i.jsx(o.z,{size:"sm",children:"Ajouter"})]})]})]})]})}function ProjectPlanning({project:e,isLoading:s=!1}){let a=[{id:1,projectId:e.id,phaseId:1,phase:{id:1,name:"Initiation",percentage:10}},{id:2,projectId:e.id,phaseId:2,phase:{id:2,name:"Planification",percentage:20}},{id:3,projectId:e.id,phaseId:3,phase:{id:3,name:"Ex\xe9cution",percentage:50}},{id:4,projectId:e.id,phaseId:4,phase:{id:4,name:"Cl\xf4ture",percentage:20}}],t=[{phaseId:1,progress:100},{phaseId:2,progress:80},{phaseId:3,progress:30},{phaseId:4,progress:0}],r=(()=>{let e=0,s=0;for(let r of a)if(r.phase){let a=r.phase.percentage,i=t.find(e=>e.phaseId===r.phaseId);i&&(e+=i.progress*a/100,s+=a)}return s>0?e/s*100:0})();return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),i.jsx(u.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-3/4"}),[void 0,void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-16 bg-neutral-200 rounded w-full"},s))]})})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"Planning"}),(0,i.jsxs)(o.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Ajouter une phase"]})]})}),(0,i.jsxs)(u.aY,{children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Progression globale"}),i.jsx("p",{className:"text-sm font-medium",children:(0,x.T3)(r)})]}),i.jsx("div",{className:"w-full h-2 bg-neutral-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${r}%`}})})]}),i.jsx("div",{className:"space-y-4",children:a.length>0?a.map(e=>{let s=t.find(s=>s.phaseId===e.phaseId),a=s?s.progress:0;return(0,i.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium",children:e.phase?.name}),(0,i.jsxs)("p",{className:"text-xs text-neutral-500",children:["Poids: ",e.phase?.percentage,"%"]})]}),i.jsx("div",{className:"text-right",children:i.jsx("p",{className:"font-medium",children:(0,x.T3)(a)})})]}),i.jsx("div",{className:"w-full h-1.5 bg-neutral-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${a}%`}})})]},e.id)}):(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-neutral-500 mb-2",children:"Aucune phase de planning d\xe9finie"}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-1 mx-auto",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Ajouter une phase"]})]})})]})]})}var g=a(4586);function ProjectActions({project:e,isLoading:s=!1}){let[a,t]=(0,l.useState)(null),r=[{id:1,planningId:1,title:"D\xe9finir les exigences fonctionnelles",statusId:2,userId:1,startDate:"2023-03-01",endDate:"2023-03-15",progress:100,status:{id:2,name:"Termin\xe9"},user:{id:1,firstName:"Jean",lastName:"Dupont",email:"jean.dupont@example.com",directionId:1}},{id:2,planningId:1,title:"Concevoir l'architecture technique",statusId:2,userId:2,startDate:"2023-03-10",endDate:"2023-03-25",progress:100,status:{id:2,name:"Termin\xe9"},user:{id:2,firstName:"Marie",lastName:"Lambert",email:"marie.lambert@example.com",directionId:2}},{id:3,planningId:2,title:"D\xe9velopper le module d'authentification",statusId:1,userId:3,startDate:"2023-03-20",endDate:"2023-04-10",progress:75,status:{id:1,name:"En cours"},user:{id:3,firstName:"Paul",lastName:"Martin",email:"paul.martin@example.com",directionId:1}},{id:4,planningId:2,title:"Tester les fonctionnalit\xe9s de base",statusId:3,userId:4,startDate:"2023-04-01",endDate:"2023-04-15",progress:0,status:{id:3,name:"A faire"},user:{id:4,firstName:"Sophie",lastName:"Durand",email:"sophie.durand@example.com",directionId:3}}],n=a?r.filter(e=>e.status?.name===a):r,c=[...Array.from(new Set(r.map(e=>e.status?.name)))].filter(Boolean),getStatusBadgeVariant=e=>{if(!e)return"gray";switch(e.toLowerCase()){case"en cours":return"blue";case"termin\xe9":return"green";case"a faire":default:return"gray";case"en retard":return"red";case"suspendu":return"yellow"}};return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),(0,i.jsxs)(u.aY,{children:[i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-full mb-4"}),i.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-24 bg-neutral-200 rounded w-full"},s))})]})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"Actions"}),(0,i.jsxs)(o.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Nouvelle action"]})]})}),(0,i.jsxs)(u.aY,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx(o.z,{size:"sm",variant:null===a?"default":"ghost",onClick:()=>t(null),children:"Toutes"}),c.map(e=>i.jsx(o.z,{size:"sm",variant:a===e?"default":"ghost",onClick:()=>t(e),children:e},e)),(0,i.jsxs)(o.z,{size:"sm",variant:"ghost",className:"ml-auto flex items-center gap-1",children:[i.jsx(g.Z,{className:"h-3.5 w-3.5"}),"Plus de filtres"]})]}),i.jsx("div",{className:"space-y-4",children:n.length>0?n.map(e=>(0,i.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-500 mt-1",children:[(0,i.jsxs)("span",{children:[(0,x.p6)(e.startDate,"dd/MM/yy")," -"," ",(0,x.p6)(e.endDate,"dd/MM/yy")]}),i.jsx(h.C,{variant:getStatusBadgeVariant(e.status?.name),children:e.status?.name||"-"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center font-medium text-xs",children:(0,x.Qm)(e.user?.firstName,e.user?.lastName)}),(0,i.jsxs)("span",{className:"text-neutral-500",children:[e.user?.firstName," ",e.user?.lastName]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-full h-1.5 bg-neutral-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${e.progress}%`}})}),i.jsx("span",{className:"text-xs font-medium min-w-[40px] text-right",children:(0,x.T3)(e.progress)})]})]},e.id)):i.jsx("div",{className:"text-center py-8",children:a?(0,i.jsxs)("p",{className:"text-neutral-500",children:['Aucune action avec le statut "',a,'"']}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("p",{className:"text-neutral-500 mb-2",children:"Aucune action d\xe9finie"}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-1 mx-auto",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Ajouter une action"]})]})})})]})]})}var v=a(8044),b=a(7881);function ProjectDocuments({project:e,isLoading:s=!1}){let[a,t]=(0,l.useState)(""),r=[{id:1,projectId:e.id,title:"Cahier des charges",version:"1.2",statusId:2,path:"/files/cahier-des-charges-v1.2.pdf",uploadedById:1,uploadDate:"2023-02-15",status:{id:2,name:"Valid\xe9"},uploadedBy:{id:1,firstName:"Jean",lastName:"Dupont",email:"jean.dupont@example.com",directionId:1}},{id:2,projectId:e.id,title:"Sp\xe9cifications techniques",version:"2.0",statusId:2,path:"/files/specs-tech-v2.0.docx",uploadedById:2,uploadDate:"2023-03-10",status:{id:2,name:"Valid\xe9"},uploadedBy:{id:2,firstName:"Marie",lastName:"Lambert",email:"marie.lambert@example.com",directionId:2}},{id:3,projectId:e.id,title:"Planning de d\xe9veloppement",version:"1.0",statusId:1,path:"/files/planning-dev-v1.0.xlsx",uploadedById:3,uploadDate:"2023-03-20",status:{id:1,name:"En revue"},uploadedBy:{id:3,firstName:"Paul",lastName:"Martin",email:"paul.martin@example.com",directionId:1}}],n=r.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.version.toLowerCase().includes(a.toLowerCase())||e.status?.name.toLowerCase().includes(a.toLowerCase())),getStatusBadgeVariant=e=>{if(!e)return"gray";switch(e.toLowerCase()){case"valid\xe9":return"green";case"en revue":return"blue";case"brouillon":default:return"gray";case"rejet\xe9":return"red";case"obsol\xe8te":return"yellow"}},getDocumentTypeIcon=e=>{if(!e)return i.jsx(v.Z,{className:"h-6 w-6 text-neutral-400"});let s=e.split(".").pop()?.toLowerCase();switch(s){case"pdf":return i.jsx(v.Z,{className:"h-6 w-6 text-red-500"});case"doc":case"docx":return i.jsx(v.Z,{className:"h-6 w-6 text-blue-500"});case"xls":case"xlsx":return i.jsx(v.Z,{className:"h-6 w-6 text-green-500"});case"ppt":case"pptx":return i.jsx(v.Z,{className:"h-6 w-6 text-orange-500"});default:return i.jsx(v.Z,{className:"h-6 w-6 text-neutral-400"})}};return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),(0,i.jsxs)(u.aY,{children:[i.jsx("div",{className:"h-10 bg-neutral-200 rounded w-full mb-4"}),i.jsx("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-14 bg-neutral-200 rounded w-full"},s))})]})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"Documents"}),(0,i.jsxs)(o.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"T\xe9l\xe9verser un document"]})]})}),(0,i.jsxs)(u.aY,{children:[i.jsx("div",{className:"relative mb-4",children:i.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full rounded-md border border-neutral-300 px-4 py-2 text-sm",value:a,onChange:e=>t(e.target.value)})}),n.length>0?(0,i.jsxs)(j.iA,{children:[i.jsx(j.xD,{children:(0,i.jsxs)(j.SC,{children:[i.jsx(j.ss,{className:"w-12"}),i.jsx(j.ss,{children:"Titre"}),i.jsx(j.ss,{children:"Version"}),i.jsx(j.ss,{children:"Statut"}),i.jsx(j.ss,{children:"T\xe9l\xe9vers\xe9 par"}),i.jsx(j.ss,{children:"Date"}),i.jsx(j.ss,{className:"w-12"})]})}),i.jsx(j.RM,{children:n.map(e=>(0,i.jsxs)(j.SC,{children:[i.jsx(j.pj,{className:"py-2",children:getDocumentTypeIcon(e.path)}),i.jsx(j.pj,{className:"font-medium py-2",children:e.title}),i.jsx(j.pj,{className:"py-2",children:e.version}),i.jsx(j.pj,{className:"py-2",children:i.jsx(h.C,{variant:getStatusBadgeVariant(e.status?.name),children:e.status?.name||"-"})}),(0,i.jsxs)(j.pj,{className:"py-2",children:[e.uploadedBy?.firstName," ",e.uploadedBy?.lastName]}),i.jsx(j.pj,{className:"py-2 text-neutral-500",children:(0,x.p6)(e.uploadDate,"dd MMM yyyy")}),i.jsx(j.pj,{className:"py-2",children:i.jsx(o.z,{size:"icon",variant:"ghost",className:"h-8 w-8",children:i.jsx(b.Z,{className:"h-4 w-4"})})})]},e.id))})]}):i.jsx("div",{className:"text-center py-12",children:a?(0,i.jsxs)("p",{className:"text-neutral-500",children:['Aucun document ne correspond \xe0 votre recherche "',a,'"']}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("p",{className:"text-neutral-500 mb-3",children:"Aucun document associ\xe9 au projet"}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-1 mx-auto",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"T\xe9l\xe9verser un document"]})]})})]})]})}function ProjectBudget({project:e,isLoading:s=!1}){let a={id:1,projectId:e.id,initialBudget:15e4,consumedBudget:87500},t=a?a.consumedBudget/a.initialBudget*100:0,r=a?a.initialBudget-a.consumedBudget:0,{status:l,color:n}=t>90?{status:"Critique",color:"text-red-500"}:t>75?{status:"Attention",color:"text-yellow-500"}:{status:"Bon",color:"text-green-500"};return s?(0,i.jsxs)(u.Zb,{className:"animate-pulse",children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3"}),i.jsx("div",{className:"h-8 bg-neutral-200 rounded w-24"})]})}),i.jsx(u.aY,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx("div",{className:"h-20 bg-neutral-200 rounded w-full"}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-16 bg-neutral-200 rounded"},s))}),i.jsx("div",{className:"h-32 bg-neutral-200 rounded w-full"})]})})]}):(0,i.jsxs)(u.Zb,{children:[i.jsx(u.Ol,{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(u.ll,{children:"Budget"}),(0,i.jsxs)(o.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(p.Z,{className:"h-4 w-4"}),"Modifier"]})]})}),i.jsx(u.aY,{className:"space-y-6",children:a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Utilisation du budget"}),i.jsx("p",{className:`text-sm font-medium ${n}`,children:(0,x.T3)(t)})]}),i.jsx("div",{className:"w-full h-2 bg-neutral-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${t>90?"bg-red-500":t>75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${t}%`}})}),(0,i.jsxs)("p",{className:`text-xs mt-1 ${n}`,children:["Statut: ",l]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg",children:[i.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Budget initial"}),i.jsx("p",{className:"text-lg font-semibold",children:(0,x.xG)(a.initialBudget)})]}),(0,i.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg",children:[i.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Consomm\xe9"}),i.jsx("p",{className:"text-lg font-semibold",children:(0,x.xG)(a.consumedBudget)})]}),(0,i.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg",children:[i.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Restant"}),i.jsx("p",{className:"text-lg font-semibold",children:(0,x.xG)(r)})]})]}),i.jsx("div",{className:"aspect-[2/1] bg-neutral-50 rounded-lg border flex items-center justify-center",children:i.jsx("p",{className:"text-neutral-400",children:"Graphique d'\xe9volution du budget"})})]}):(0,i.jsxs)("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-neutral-500 mb-3",children:"Aucun budget d\xe9fini pour ce projet"}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",className:"flex items-center gap-1 mx-auto",children:[i.jsx(p.Z,{className:"h-4 w-4"}),"D\xe9finir un budget"]})]})})]})}var y=a(475),w=a(255),I=a(5035),C=a(9262);(function(e){e.Critical="critical",e.Warning="warning",e.Good="good",e.Unknown="unknown"})(t||(t={})),function(e){e.Number="number",e.Gauge="gauge",e.Chart="chart",e.Table="table"}(r||(r={}));let T={[t.Critical]:"bg-error",[t.Warning]:"bg-warning",[t.Good]:"bg-success",[t.Unknown]:"bg-neutral-400"};function ProjectKpis({project:e,onKpiSelect:s}){let[a,r]=(0,l.useState)([]),[n,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[p,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{fetchKpis()},[e.id]);let fetchKpis=async()=>{try{c(!0),m(null);let s=await (0,C.OS)((0,C.wA)(e.id,e.name),()=>I.Hv.kpis.getProjectKpis(e.id));r(s)}catch(e){console.error("Error fetching KPIs:",e),m((0,x.e$)(e))}finally{c(!1)}},refreshKpis=async()=>{try{N(!0),m(null),await fetchKpis()}catch(e){console.error("Error refreshing KPIs:",e),m((0,x.e$)(e))}finally{N(!1)}},exportKpis=async s=>{try{let a=await I.Hv.kpis.exportKpiData(e.id,s),t=new Blob([a.data],{type:"csv"===s?"text/csv":"excel"===s?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"application/pdf"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.setAttribute("download",`kpi-report-${e.name.replace(/\s+/g,"-")}.${s}`),document.body.appendChild(i),i.click(),i.remove()}catch(e){console.error("Error exporting KPIs:",e),m((0,x.e$)(e))}},getKpiStatus=e=>e.criticalThresholdBreached?t.Critical:e.warningThresholdBreached?t.Warning:t.Good,renderKpiValue=e=>{let s=getKpiStatus(e);return i.jsx("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${T[s]}`}),(0,i.jsxs)("span",{className:"font-medium text-lg",children:[e.value.toFixed(1),"COMPLETION_RATE"===e.metricCode||"BUDGET_UTILIZATION"===e.metricCode||"TASK_COMPLETION"===e.metricCode?"%":"","DEADLINE_PROXIMITY"===e.metricCode?" jours":""]})]})})};return(0,i.jsxs)(u.Zb,{children:[(0,i.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(u.ll,{children:"Indicateurs cl\xe9s de performance (KPIs)"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>exportKpis("excel"),className:"flex items-center gap-1",children:[i.jsx(y.Z,{className:"h-4 w-4"}),"Excel"]}),(0,i.jsxs)(o.z,{variant:"outline",size:"sm",onClick:refreshKpis,disabled:p,className:"flex items-center gap-1",children:[i.jsx(w.Z,{className:`h-4 w-4 ${p?"animate-spin":""}`}),"Rafra\xeechir"]})]})]}),i.jsx(u.aY,{children:n?i.jsx("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>i.jsx("div",{className:"h-14 bg-neutral-200 rounded"},s))}):d?(0,i.jsxs)("div",{className:"text-error",children:["Erreur: ",d]}):0===a.length?i.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Aucun KPI disponible pour ce projet"}):(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>i.jsx(u.Zb,{className:`border border-neutral-200 ${s?"hover:border-primary cursor-pointer transition-colors":""}`,onClick:()=>s&&s(e),children:i.jsx(u.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-neutral-500",children:e.metricName}),renderKpiValue(e),(0,i.jsxs)("div",{className:"text-xs text-neutral-400",children:["Mis \xe0 jour: ",(0,x.p6)(new Date(e.measurementDate))]})]})})},e.id))}),(0,i.jsxs)(j.iA,{children:[i.jsx(j.xD,{children:(0,i.jsxs)(j.SC,{children:[i.jsx(j.ss,{children:"Indicateur"}),i.jsx(j.ss,{children:"Valeur"}),i.jsx(j.ss,{children:"\xc9tat"}),i.jsx(j.ss,{children:"Date de mesure"})]})}),i.jsx(j.RM,{children:a.map(e=>(0,i.jsxs)(j.SC,{className:s?"hover:bg-neutral-50 cursor-pointer":"",onClick:()=>s&&s(e),children:[i.jsx(j.pj,{className:"font-medium",children:e.metricName}),(0,i.jsxs)(j.pj,{children:[e.value.toFixed(1),"COMPLETION_RATE"===e.metricCode||"BUDGET_UTILIZATION"===e.metricCode||"TASK_COMPLETION"===e.metricCode?"%":"","DEADLINE_PROXIMITY"===e.metricCode?" jours":""]}),i.jsx(j.pj,{children:i.jsx(h.C,{variant:getKpiStatus(e)===t.Critical?"destructive":getKpiStatus(e)===t.Warning?"warning":"success",children:getKpiStatus(e)===t.Critical?"Critique":getKpiStatus(e)===t.Warning?"Attention":"Bon"})}),i.jsx(j.pj,{className:"text-neutral-500",children:(0,x.p6)(new Date(e.measurementDate))})]},e.id||`${e.projectId}-${e.metricId}`))})]})]})})]})}var D=a(7048);function KpiDetail({project:e,kpiValue:s,onClose:a}){let[t,r]=(0,l.useState)([]),[n,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{fetchKpiHistory()},[s.metricId]);let fetchKpiHistory=async()=>{try{c(!0),m(null);let a=await (0,C.OS)((0,C.zh)(e.id,s.metricId,e.name,s.metricName),()=>I.Hv.kpis.getProjectKpiHistory(e.id,s.metricId));r(a)}catch(e){console.error("Error fetching KPI history:",e),m((0,x.e$)(e))}finally{c(!1)}},refreshHistory=async()=>{try{p(!0),m(null),await fetchKpiHistory()}catch(e){console.error("Error refreshing KPI history:",e),m((0,x.e$)(e))}finally{p(!1)}};return(0,i.jsxs)(u.Zb,{className:"w-full",children:[(0,i.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(u.ll,{children:s.metricName}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(o.z,{variant:"outline",size:"sm",onClick:refreshHistory,disabled:h,className:"flex items-center gap-1",children:[i.jsx(w.Z,{className:`h-4 w-4 ${h?"animate-spin":""}`}),"Rafra\xeechir"]}),(0,i.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:a,className:"flex items-center gap-1",children:[i.jsx(D.Z,{className:"h-4 w-4"}),"Fermer"]})]})]}),(0,i.jsxs)(u.aY,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-neutral-100 p-4 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-neutral-500",children:"Valeur actuelle"}),(0,i.jsxs)("div",{className:"font-semibold text-xl",children:[s.value.toFixed(1),"COMPLETION_RATE"===s.metricCode||"BUDGET_UTILIZATION"===s.metricCode||"TASK_COMPLETION"===s.metricCode?"%":"","DEADLINE_PROXIMITY"===s.metricCode?" jours":""]})]}),(0,i.jsxs)("div",{className:"bg-neutral-100 p-4 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-neutral-500",children:"Date de mesure"}),i.jsx("div",{className:"font-semibold",children:(0,x.o0)(new Date(s.measurementDate))})]}),(0,i.jsxs)("div",{className:"bg-neutral-100 p-4 rounded",children:[i.jsx("div",{className:"text-sm font-medium text-neutral-500",children:"Statut"}),i.jsx("div",{className:"font-semibold",children:s.criticalThresholdBreached?"Critique":s.warningThresholdBreached?"Attention":"Bon"})]})]}),n?(0,i.jsxs)("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-40 bg-neutral-200 rounded"}),i.jsx("div",{className:"h-40 bg-neutral-200 rounded"})]}):d?(0,i.jsxs)("div",{className:"text-error",children:["Erreur: ",d]}):0===t.length?i.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Aucun historique disponible pour cet indicateur"}):(0,i.jsxs)(i.Fragment,{children:[(()=>{if(0===t.length)return null;let e=[...t].sort((e,s)=>new Date(e.measurementDate).getTime()-new Date(s.measurementDate).getTime()),a=e.map(e=>e.value),r=Math.min(...a),l=Math.max(...a),n=l-r,c=e.map((s,a)=>{let t=`${a/(e.length-1)*100}%`,i=0===n?.5:(s.value-r)/n;return{x:t,y:200-(120*i+40),value:s.value,date:s.measurementDate}}),d="";return c.forEach((e,s)=>{0===s?d+=`M ${e.x} ${e.y}`:d+=` L ${e.x} ${e.y}`}),(0,i.jsxs)("div",{className:"mt-6 mb-8",children:[i.jsx("h3",{className:"text-sm font-medium mb-4",children:"\xc9volution"}),(0,i.jsxs)("div",{className:"relative",style:{height:"200px"},children:[(0,i.jsxs)("svg",{width:"100%",height:200,className:"overflow-visible",children:[(0,i.jsxs)("text",{x:"0",y:40,className:"text-xs fill-neutral-500",children:[l.toFixed(1),"COMPLETION_RATE"===s.metricCode||"BUDGET_UTILIZATION"===s.metricCode||"TASK_COMPLETION"===s.metricCode?"%":""]}),(0,i.jsxs)("text",{x:"0",y:160,className:"text-xs fill-neutral-500",children:[r.toFixed(1),"COMPLETION_RATE"===s.metricCode||"BUDGET_UTILIZATION"===s.metricCode||"TASK_COMPLETION"===s.metricCode?"%":""]}),i.jsx("path",{d:d,fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-primary"}),c.map((e,s)=>i.jsx("g",{children:i.jsx("circle",{cx:e.x,cy:e.y,r:"4",className:"fill-primary"})},s))]}),i.jsx("div",{className:"flex justify-between mt-2",children:c.length>0&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("span",{className:"text-xs text-neutral-500",children:(0,x.p6)(new Date(c[0].date))}),c.length>2&&i.jsx("span",{className:"text-xs text-neutral-500",children:(0,x.p6)(new Date(c[Math.floor(c.length/2)].date))}),i.jsx("span",{className:"text-xs text-neutral-500",children:(0,x.p6)(new Date(c[c.length-1].date))})]})})]})]})})(),i.jsx("h3",{className:"text-sm font-medium mb-4",children:"Historique des mesures"}),(0,i.jsxs)(j.iA,{children:[i.jsx(j.xD,{children:(0,i.jsxs)(j.SC,{children:[i.jsx(j.ss,{children:"Date"}),i.jsx(j.ss,{children:"Valeur"}),i.jsx(j.ss,{children:"Commentaire"})]})}),i.jsx(j.RM,{children:[...t].sort((e,s)=>new Date(s.measurementDate).getTime()-new Date(e.measurementDate).getTime()).map(e=>(0,i.jsxs)(j.SC,{children:[i.jsx(j.pj,{children:(0,x.o0)(new Date(e.measurementDate))}),(0,i.jsxs)(j.pj,{className:"font-medium",children:[e.value.toFixed(1),"COMPLETION_RATE"===e.metricCode||"BUDGET_UTILIZATION"===e.metricCode||"TASK_COMPLETION"===e.metricCode?"%":"","DEADLINE_PROXIMITY"===e.metricCode?" jours":""]}),i.jsx(j.pj,{children:e.comment||"-"})]},e.id||e.measurementDate))})]})]})]})]})}function ProjectDetailPage(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0),[r,u]=(0,l.useState)(null),[h,p]=(0,l.useState)("info"),[j,N]=(0,l.useState)(null),{id:f}=(0,n.useParams)(),g=(0,n.useRouter)();return(0,l.useEffect)(()=>{let fetchProject=async()=>{try{let e=await I.Hv.projects.getById(Number(f));s(e.data),u(null)}catch(e){console.error("Failed to fetch project:",e),u((0,x.e$)(e))}finally{t(!1)}};f&&fetchProject()},[f]),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:()=>g.push("/projects"),className:"flex items-center gap-1",children:[i.jsx(c.Z,{className:"h-4 w-4"}),"Retour"]}),i.jsx("h1",{className:"text-2xl font-bold",children:a?"Chargement...":e?.name||"Projet introuvable"})]}),i.jsx("div",{className:"flex gap-2",children:(0,i.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>{confirm("\xcates-vous s\xfbr de vouloir supprimer ce projet ? Cette action est irr\xe9versible.")&&g.push(`/projects/${f}/delete`)},className:"flex items-center gap-1 text-error hover:bg-error/10",disabled:a||!e,children:[i.jsx(d.Z,{className:"h-4 w-4"}),"Supprimer"]})})]}),r&&(0,i.jsxs)("div",{className:"bg-error/10 border border-error/30 rounded-md p-4 flex items-start gap-2 text-error",children:[i.jsx(m.Z,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"font-medium",children:"Erreur lors du chargement du projet"}),i.jsx("p",{className:"text-sm",children:r})]})]}),!r&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(Tabs,{tabs:[{id:"info",label:"Informations"},{id:"team",label:"\xc9quipe"},{id:"planning",label:"Planning"},{id:"actions",label:"Actions"},{id:"documents",label:"Documents"},{id:"budget",label:"Budget"},{id:"kpis",label:"KPIs"}],defaultTab:"info",onChange:p,className:"mb-6"}),(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx(TabPanel,{id:"info",activeTab:h,children:i.jsx(ProjectInfo,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"team",activeTab:h,children:i.jsx(ProjectTeam,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"planning",activeTab:h,children:i.jsx(ProjectPlanning,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"actions",activeTab:h,children:i.jsx(ProjectActions,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"documents",activeTab:h,children:i.jsx(ProjectDocuments,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"budget",activeTab:h,children:i.jsx(ProjectBudget,{project:e,isLoading:a})}),i.jsx(TabPanel,{id:"kpis",activeTab:h,children:j&&e?i.jsx(KpiDetail,{project:e,kpiValue:j,onClose:()=>{N(null)}}):i.jsx(ProjectKpis,{project:e,onKpiSelect:e=>{N(e)}})})]})]})]})}},9764:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var t=a(5153);let r=(0,t.createProxy)(String.raw`C:\Users\yabla\Downloads\gestionpro(java)\project-management-frontend\src\app\projects\[id]\page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,c=n}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[637,796,674,834,531,787,503,324,453,262,949],()=>__webpack_exec__(8410));module.exports=a})();